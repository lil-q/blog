<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>å›¾è®º | Homeward</title>

  <meta charset="UTF-8">
  <meta name="language" content="en">
  <meta name="description" content="å›¾è®ºåŠæœ€çŸ­è·¯å¾„ç®—æ³•æœ€å°ç”Ÿæˆæ ‘ç®—æ³•">
  <meta name="keywords" content="graph , Dijkstra , Floyd-Warshall , Prim , Kruskal">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  
  

  <link rel="shortcut icon" type="image/png" href="/favicon.ico" />

  
  
    
 
  
  
  
  
  
  
    
    <link type="text/css" rel="stylesheet" href="/css/post.min.ab05d5e01a9242c9472ee834dca8b5e136420f575e85e4d6d45b56022054489f.css" integrity="sha256-qwXV4BqSQslHLug03Ki14TZCD1deheTW1FtWAiBUSJ8="/>
  
    
    <link type="text/css" rel="stylesheet" href="/css/custom.min.90b5007688d9661bb8a3c179e17156ae3f54efa01088ed1cd0364235af826683.css" integrity="sha256-kLUAdojZZhu4o8F54XFWrj9U76AQiO0c0DZCNa&#43;CZoM="/>
  
  
   
   
    

<script type="application/ld+json">
  
    {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/lil-q.github.io\/"
      },
      "articleSection" : "blog",
      "name" : "å›¾è®º",
      "headline" : "å›¾è®º",
      "description" : "å›¾è®ºåŠæœ€çŸ­è·¯å¾„ç®—æ³•æœ€å°ç”Ÿæˆæ ‘ç®—æ³•",
      "inLanguage" : "en-US",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "2019",
      "datePublished": "2019-12-27 17:53:49 \u002b0000 UTC",
      "dateModified" : "2019-12-27 17:53:49 \u002b0000 UTC",
      "url" : "https:\/\/lil-q.github.io\/blog\/%E5%9B%BE-graph\/",
      "wordCount" : "1342",
      "keywords" : ["graph", "Dijkstra", "Floyd-Warshall", "Prim", "Kruskal", "Blog"]
    }
  
  </script>
</head>

<body>
  <div class="burger__container">
  <div class="burger" aria-controls="navigation" aria-label="Menu">
    <div class="burger__meat burger__meat--1"></div>
    <div class="burger__meat burger__meat--2"></div>
    <div class="burger__meat burger__meat--3"></div>
  </div>
</div>
 

  <nav class="nav" id="navigation">
  <ul class="nav__list">
    
    
      <li>
        <a  href="/">About</a>
      </li>
    
      <li>
        <a  class="active"
         href="/blog">æŠ€æœ¯</a>
      </li>
    
      <li>
        <a  href="/picture">ç›¸å†Œ</a>
      </li>
    
      <li>
        <a  href="/essay">éšç¬”</a>
      </li>
    
  </ul>
</nav>


  <main>
    
    

    <div class="flex-wrapper">
      <div class="post__container">
        <div class="post">
          <header class="post__header">
            <h1 id="post__title">å›¾è®º</h1>
            <time datetime="2019-12-27 17:53:49 &#43;0000 UTC" class="post__date">Dec 27 2019</time> 
          </header>
          <article class="post__content">
              
<p>ç”Ÿæ´»ä¸å°±æ˜¯ä¸€å¼ å›¾å—ï¼Ÿ</p>
<!-- more -->
<h2 id="ä¸€å®šä¹‰">ä¸€ã€å®šä¹‰<a class="anchor" href="#ä¸€å®šä¹‰">#</a></h2>
<p><strong>å›¾</strong>ï¼ˆGraphï¼‰ç”¨äºè¡¨ç¤ºç‰©ä»¶ä¸ç‰©ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œæ˜¯å›¾è®ºçš„åŸºæœ¬ç ”ç©¶å¯¹è±¡ã€‚ä¸€å¼ å›¾ç”±ä¸€äº›å°åœ†ç‚¹ï¼ˆç§°ä¸º<strong>é¡¶ç‚¹</strong>æˆ–<strong>ç»“ç‚¹</strong>ï¼‰å’Œè¿ç»“è¿™äº›åœ†ç‚¹çš„ç›´çº¿æˆ–æ›²çº¿ï¼ˆç§°ä¸º<strong>è¾¹</strong>ï¼‰ç»„æˆã€‚</p>
<p>ä¸€ä¸ªå›¾ $G$ æ˜¯ä¸€ä¸ªäºŒå…ƒç»„ï¼Œå³åºå¶ $\langle V,E\rangle$ ï¼Œæˆ–è®°ä½œ $G= \langle V,E\rangle$ ï¼Œå…¶ä¸­ $V$ æ˜¯æœ‰é™éç©ºé›†åˆï¼Œç§°ä¸º $G$ çš„é¡¶ç‚¹é›†ï¼Œ $V$ ä¸­çš„å…ƒç´ ç§°ä¸ºé¡¶ç‚¹æˆ–ç»“ç‚¹ï¼› $E$ ç§°ä¸º $G$ çš„è¾¹çš„é›†åˆï¼Œ $\forall e_i \in E$ ï¼Œéƒ½æœ‰ $V$ ä¸­çš„ç»“ç‚¹ä¸ä¹‹å¯¹åº”ï¼Œç§° $e_i$ ä¸º $G$ çš„è¾¹ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å›¾ $G$ å°±æ˜¯ä¸€ä¸ªç»“ç‚¹çš„é›†åˆ $V$ å’Œè¾¹çš„é›†åˆ $E$ ï¼Œå…¶ä¸­ä»»æ„ä¸€æ¡è¾¹éƒ½å¯ä»¥è¡¨ç¤ºä¸ºä¸¤ä¸ªç»“ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚è‹¥ $e_i\in E$ è¡¨ç¤ºä¸º $\langle u,v\rangle$ ï¼Œåˆ™æœ‰ $u\in V , v\in V$ ã€‚</p>
<h3 id="11-åŸºæœ¬æ¦‚å¿µ">1.1 åŸºæœ¬æ¦‚å¿µ<a class="anchor" href="#11-åŸºæœ¬æ¦‚å¿µ">#</a></h3>
<p>æ— å‘å›¾ï¼šæ¯æ¡è¾¹éƒ½æ˜¯æ— å‘è¾¹çš„å›¾ã€‚</p>
<p>æœ‰å‘å›¾ï¼šæ¯æ¡è¾¹éƒ½æ˜¯æœ‰å‘è¾¹çš„å›¾ã€‚</p>
<p>æœ‰æƒå›¾ï¼šæ¯æ¡è¾¹å…·æœ‰ä¸€å®šçš„æƒé‡ï¼ˆweightï¼‰ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªæ•°å­—</p>
<p>æ— æƒå›¾ï¼šæ¯æ¡è¾¹å‡æ²¡æœ‰æƒé‡ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæƒä¸º 1</p>
<p>è¿é€šå›¾ï¼šæ‰€æœ‰çš„ç‚¹éƒ½æœ‰è·¯å¾„ç›¸è¿</p>
<p>éè¿é€šå›¾ï¼šå­˜åœ¨æŸä¸¤ä¸ªç‚¹æ²¡æœ‰è·¯å¾„ç›¸è¿</p>
<p>é‚»æ¥ï¼šå…³è”äºåŒä¸€æ¡è¾¹çš„ä¸¤ä¸ªç‚¹ $u$ å’Œ $v$ ç§°ä¸ºé‚»æ¥çš„ï¼›å…³è”äºåŒä¸€ä¸ªç‚¹çš„ä¸¤æ¡è¾¹ $e_1$ å’Œ $e_2$ æ˜¯é‚»æ¥çš„ï¼ˆæˆ–ç›¸é‚»çš„ï¼‰ã€‚</p>
<h3 id="12-ç»“ç‚¹çš„åº¦æ•°">1.2 ç»“ç‚¹çš„åº¦æ•°<a class="anchor" href="#12-ç»“ç‚¹çš„åº¦æ•°">#</a></h3>
<p>è®¾å›¾ $G= \langle V,E\rangle$ ä¸ºä¸€ä¸ªæœ‰å‘å›¾ï¼Œ $v\in V$ ï¼Œå…³è”äºç»“ç‚¹ $v$ çš„ <strong>è¾¹</strong> çš„æ¡æ•°ï¼Œç§°ä¸ºç‚¹ $v$ çš„åº¦æ•°ï¼Œè®°ä½œ $\deg(v)$ ã€‚</p>
<p>æ³¨æ„ï¼šä¸€ä¸ªè‡ªç¯ä¸ºå®ƒçš„ç«¯ç‚¹å¢åŠ  2 åº¦ã€‚</p>
<p>å½“å›¾ $G= \langle V,E\rangle$ ä¸ºä¸€ä¸ªæœ‰å‘å›¾ï¼Œ $v\in V$ ï¼Œç§°ä»¥ $v$ ä½œä¸ºå§‹ç‚¹çš„è¾¹æ•°ä¹‹å’Œç§°ä¸ºç»“ç‚¹ $v$ çš„å‡ºåº¦ï¼Œè®°ä¸º $\deg^{+} (v)$ ã€‚å°†ä»¥ $v$ ä½œä¸ºç»ˆç‚¹çš„è¾¹æ•°ä¹‹å’Œç§°ä¸ºç»“ç‚¹ $v$ çš„å…¥åº¦ï¼Œè®°ä¸º $\deg^{-} (v)$ ã€‚ç§°ä»¥ $v$ ä½œä¸ºç«¯ç‚¹çš„è¾¹æ•°ä¹‹å’Œä¸ºç»“ç‚¹ $v$ çš„åº¦æ•°æˆ–åº¦ï¼Œè®°ä¸º $\deg(v)$ ã€‚</p>
<p>æ˜¾ç„¶ï¼Œ $\forall v\in V,\deg(v)=deg^{+} (v)+\deg^{-} (v)$ ã€‚</p>
<h2 id="äºŒå›¾çš„å­˜å‚¨">äºŒã€å›¾çš„å­˜å‚¨<a class="anchor" href="#äºŒå›¾çš„å­˜å‚¨">#</a></h2>
<p>ä»¥ä¸‹å›¾ä½œä¸ºä¾‹å­ã€‚</p>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/21cd2731928c7c13057eee000e3697de82ccc058.png" alt="edge lists" style="zoom: 67%;" /></p>
<h3 id="21-ç›´æ¥å­˜è¾¹">2.1 ç›´æ¥å­˜è¾¹<a class="anchor" href="#21-ç›´æ¥å­˜è¾¹">#</a></h3>
<p>å»ºç«‹ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œæ¯ä¸ªå…ƒç´ æ˜¯å›¾çš„ä¸€æ¡è¾¹ã€‚</p>
<p>è¿™æ ·åšæœ‰ä¸ªç¼ºç‚¹ï¼Œæ¯æ¬¡æƒ³è¦çŸ¥é“ä¸¤ä¸ªç‚¹ä¹‹é—´æ˜¯å¦æœ‰è¿è¾¹ï¼ˆæˆ–è€…è¯´ä¸€æ¡è¾¹æ˜¯å¦å­˜åœ¨ï¼‰ï¼Œéƒ½éœ€è¦åœ¨æ•°ç»„é‡Œè¿›è¡Œä¸€ç•ªæŸ¥æ‰¾ã€‚è€Œä¸”å¦‚æœæ²¡æœ‰å¯¹è¾¹äº‹å…ˆæ’åºçš„è¯ï¼Œå°±ä¸èƒ½ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹æ³•ï¼ˆ $O(\log n)$ ï¼‰ï¼Œè€Œæ˜¯æ¯æ¬¡åªèƒ½æŒ‰é¡ºåºæ‰¾ï¼ˆ $O(n)$ ï¼‰ï¼Œæˆæœ¬è¾ƒé«˜ã€‚</p>
<p>ä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°è¿™ä¸ªæ–¹æ³•å‘¢ï¼Ÿæœ€ç®€å•çš„ä¸€ä¸ªä¾‹å­æ˜¯ä½¿ç”¨ Kruskal ç®—æ³•æ±‚æœ€å°ç”Ÿæˆæ ‘çš„æ—¶å€™ã€‚</p>
<pre><code class="language-python">[ [0,1], [0,6], [0,8], [1,4], [1,6], [1,9], [2,4], [2,6], [3,4], [3,5],
[3,8], [4,5], [4,9], [7,8], [7,9] ]
</code></pre>
<h3 id="22-é‚»æ¥çŸ©é˜µ">2.2 é‚»æ¥çŸ©é˜µ<a class="anchor" href="#22-é‚»æ¥çŸ©é˜µ">#</a></h3>
<p>é‚»æ¥çŸ©é˜µçš„è‹±æ–‡åæ˜¯ <em>adjacency matrix</em>ã€‚å®ƒçš„å½¢å¼æ˜¯ <code>bool adj[n][n]</code> ï¼Œè¿™é‡Œé¢ $n$ æ˜¯èŠ‚ç‚¹ä¸ªæ•°ï¼Œ $adj[i][j]$ è¡¨ç¤º $i$ å’Œ $j$ ä¹‹é—´æ˜¯å¦æœ‰è¾¹ã€‚</p>
<p>å¦‚æœè¾¹æœ‰æƒå€¼ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨ <code>int adj[n][n]</code> ï¼Œç›´æ¥æŠŠè¾¹æƒå­˜è¿›å»ã€‚</p>
<p>å®ƒçš„ä¼˜ç‚¹æ˜¯å¯ä»¥åœ¨ $O(1)$ æ—¶é—´å†…å¾—åˆ°ä¸€æ¡è¾¹æ˜¯å¦å­˜åœ¨ï¼Œç¼ºç‚¹æ˜¯éœ€è¦å ç”¨ $O(n^2)$ çš„ç©ºé—´ã€‚å¯¹äºä¸€ä¸ªç¨€ç–çš„å›¾ï¼ˆè¾¹ç›¸å¯¹äºç‚¹æ•°çš„å¹³æ–¹æ¯”è¾ƒå°‘ï¼‰æ¥è¯´ï¼Œç”¨é‚»æ¥çŸ©é˜µæ¥å­˜çš„è¯ï¼Œæˆæœ¬åé«˜ã€‚</p>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/549bca1a52774846b25caff86d244d03ee63fd38.png" alt="matrix" style="zoom:50%;" /></p>
<h3 id="23-é‚»æ¥è¡¨">2.3 é‚»æ¥è¡¨<a class="anchor" href="#23-é‚»æ¥è¡¨">#</a></h3>
<p>é‚»æ¥è¡¨è‹±æ–‡åæ˜¯ <em>adjacency list</em>ã€‚å®ƒçš„å½¢å¼æ˜¯ <code>vector adj[n]</code> ï¼Œç”¨ <code>adj[i]</code> å­˜ä»¥ $i$ ä¸ºèµ·ç‚¹çš„è¾¹ã€‚</p>
<p>ç”¨ <code>vector</code> æ— æ³•ç§‘å­¦åœ°åˆ é™¤ï¼Œæ‰€ä»¥å¸¸ç”¨ <code>list</code> å®ç°ã€‚</p>
<p>å®ƒçš„ç‰¹ç‚¹æ˜¯å¯ä»¥ç”¨æ¥æŒ‰é¡ºåºè®¿é—®ä¸€ä¸ªç»“ç‚¹çš„å‡ºè¾¹ï¼ˆæˆ–è€…å…¥è¾¹ï¼‰ã€‚</p>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/cc82379521bd84738e86d6cf9552738ca9138420.png" alt="linklist" style="zoom:50%;" /></p>
<pre><code class="language-python">[ [1, 6, 8],
  [0, 4, 6, 9],
  [4, 6],
  [4, 5, 8],
  [1, 2, 3, 5, 9],
  [3, 4],
  [0, 1, 2],
  [8, 9],
  [0, 3, 7],
  [1, 4, 7] ]
</code></pre>
<h2 id="ä¸‰å›¾çš„éå†">ä¸‰ã€å›¾çš„éå†<a class="anchor" href="#ä¸‰å›¾çš„éå†">#</a></h2>
<p><strong>å›¾çš„éå†</strong>é—®é¢˜åˆ†ä¸ºå››ç±»ï¼š</p>
<ul>
<li>éå†å®Œæ‰€æœ‰çš„<strong>è¾¹</strong>è€Œä¸èƒ½æœ‰é‡å¤ï¼Œå³æ‰€è°“â€œæ¬§æ‹‰è·¯å¾„é—®é¢˜â€ï¼ˆåˆå<a href="https://zh.wikipedia.org/wiki/%E4%B8%80%E7%AC%94%E7%94%BB%E9%97%AE%E9%A2%98">ä¸€ç¬”ç”»é—®é¢˜</a>ï¼‰ï¼›</li>
<li>éå†å®Œæ‰€æœ‰çš„<strong>é¡¶ç‚¹</strong>è€Œæ²¡æœ‰é‡å¤ï¼Œå³æ‰€è°“â€œ<a href="https://zh.wikipedia.org/wiki/%E5%93%88%E5%AF%86%E9%A0%93%E8%B7%AF%E5%BE%91%E5%95%8F%E9%A1%8C">å“ˆå¯†é¡¿è·¯å¾„é—®é¢˜</a>â€ã€‚</li>
<li>éå†å®Œæ‰€æœ‰çš„<strong>è¾¹</strong>è€Œå¯ä»¥æœ‰é‡å¤ï¼Œå³æ‰€è°“â€œ<a href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E5%9B%BD%E9%82%AE%E9%80%92%E5%91%98%E9%97%AE%E9%A2%98">ä¸­å›½é‚®é€’å‘˜é—®é¢˜</a>â€ï¼›</li>
<li>éå†å®Œæ‰€æœ‰çš„<strong>é¡¶ç‚¹</strong>è€Œå¯ä»¥é‡å¤ï¼Œå³æ‰€è°“â€œ<a href="https://zh.wikipedia.org/wiki/%E6%97%85%E8%A1%8C%E6%8E%A8%E9%94%80%E5%91%98%E9%97%AE%E9%A2%98">æ—…è¡Œæ¨é”€å‘˜é—®é¢˜</a>â€ã€‚</li>
</ul>
<p>å¯¹äºç¬¬ä¸€å’Œç¬¬ä¸‰ç±»é—®é¢˜å·²ç»å¾—åˆ°äº†å®Œæ»¡çš„è§£å†³ï¼Œè€Œç¬¬äºŒå’Œç¬¬å››ç±»é—®é¢˜åˆ™åªå¾—åˆ°äº†éƒ¨åˆ†è§£å†³ã€‚</p>
<p>ç¬¬ä¸€ç±»é—®é¢˜å°±æ˜¯ç ”ç©¶æ‰€è°“çš„<a href="https://zh.wikipedia.org/wiki/%E6%AC%A7%E6%8B%89%E5%9B%BE">æ¬§æ‹‰å›¾</a>çš„æ€§è´¨ï¼Œè€Œç¬¬äºŒç±»é—®é¢˜åˆ™æ˜¯ç ”ç©¶æ‰€è°“çš„<a href="https://zh.wikipedia.org/wiki/%E5%93%88%E5%AF%86%E9%A1%BF%E5%9B%BE">å“ˆå¯†é¡¿å›¾</a>çš„æ€§è´¨ã€‚</p>
<p>å›¾çš„éå†æ–¹æ³•æœ‰æ·±åº¦ä¼˜å…ˆæœç´¢æ³•å’Œå¹¿åº¦(å®½åº¦)ä¼˜å…ˆæœç´¢æ³•ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ã€‚</p>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/graph1.png" alt="graph" style="zoom:67%;" /></p>
<p>å»ºç«‹é‚»æ¥è¡¨ï¼š</p>
<pre><code class="language-python">adjacencylists = [[1, 2, 3],
                  [0, 4, 5],
                  [0, 6],
                  [0, 6],
                  [1, 5],
                  [1, 4, 6],
                  [2, 3, 5]]
</code></pre>
<h3 id="31-æ·±åº¦ä¼˜å…ˆæœç´¢">3.1 æ·±åº¦ä¼˜å…ˆæœç´¢<a class="anchor" href="#31-æ·±åº¦ä¼˜å…ˆæœç´¢">#</a></h3>
<p><strong>æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•</strong>ï¼ˆ<strong>D</strong>epth-<strong>F</strong>irst-<strong>S</strong>earchï¼Œ<strong>DFS</strong>ï¼‰æ˜¯ä¸€ç§ç”¨äºéå†æˆ–æœç´¢<strong>æ ‘</strong>æˆ–<strong>å›¾</strong>çš„ç®—æ³•ã€‚æ²¿ç€æ ‘çš„æ·±åº¦éå†æ ‘çš„èŠ‚ç‚¹ï¼Œå°½å¯èƒ½æ·±çš„æœç´¢æ ‘çš„åˆ†æ”¯ã€‚å½“èŠ‚ç‚¹ v çš„æ‰€åœ¨è¾¹éƒ½å·±è¢«æ¢å¯»è¿‡ï¼Œæœç´¢å°†å›æº¯åˆ°å‘ç°èŠ‚ç‚¹ v çš„é‚£æ¡è¾¹çš„èµ·å§‹èŠ‚ç‚¹ã€‚è¿™ä¸€è¿‡ç¨‹ä¸€ç›´è¿›è¡Œåˆ°å·²å‘ç°ä»æºèŠ‚ç‚¹å¯è¾¾çš„æ‰€æœ‰èŠ‚ç‚¹ä¸ºæ­¢ã€‚å¦‚æœè¿˜å­˜åœ¨æœªè¢«å‘ç°çš„èŠ‚ç‚¹ï¼Œåˆ™é€‰æ‹©å…¶ä¸­ä¸€ä¸ªä½œä¸ºæºèŠ‚ç‚¹å¹¶é‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼Œæ•´ä¸ªè¿›ç¨‹åå¤è¿›è¡Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«è®¿é—®ä¸ºæ­¢ã€‚å±äºç›²ç›®æœç´¢ã€‚</p>
<h3 id="32-å¹¿åº¦ä¼˜å…ˆæœç´¢">3.2 å¹¿åº¦ä¼˜å…ˆæœç´¢<a class="anchor" href="#32-å¹¿åº¦ä¼˜å…ˆæœç´¢">#</a></h3>
<p><strong>å¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•</strong>ï¼ˆ<strong>B</strong>readth-<strong>F</strong>irst-<strong>S</strong>earchï¼Œ<strong>BFS</strong>)ï¼Œåˆè¯‘ä½œ<strong>å®½åº¦ä¼˜å…ˆæœç´¢</strong>ï¼Œæˆ–<strong>æ¨ªå‘ä¼˜å…ˆæœç´¢</strong>ï¼Œæ˜¯ä¸€ç§å›¾å½¢æœç´¢ç®—æ³•ã€‚ç®€å•çš„è¯´ï¼ŒBFS æ˜¯ä»<strong>æ ¹èŠ‚ç‚¹</strong>å¼€å§‹ï¼Œæ²¿ç€æ ‘çš„å®½åº¦éå†æ ‘çš„èŠ‚ç‚¹ã€‚å¦‚æœæ‰€æœ‰èŠ‚ç‚¹å‡è¢«è®¿é—®ï¼Œåˆ™ç®—æ³•ä¸­æ­¢ã€‚å¹¿åº¦ä¼˜å…ˆæœç´¢çš„å®ç°ä¸€èˆ¬é‡‡ç”¨ open-closed è¡¨ã€‚</p>
<p><strong>Pythonçš„ç®€æ˜“å®ç°</strong></p>
<pre><code class="language-python"># è®¾ç½®æ€»èŠ‚ç‚¹æ•°
num_vertexs = 7
# å»ºç«‹é‚»æ¥è¡¨
adjacencylists = [[1, 2, 3],
                  [0, 4, 5],
                  [0, 6],
                  [0, 6],
                  [1, 5],
                  [1, 4, 6],
                  [2, 3, 5]]

class graph:
	def __init__(self, num_vertexs, adjacencylists):
		self.num_vertexs = num_vertexs
		self.adjacencylists = adjacencylists

	def dfs(self, start):
        # è®°å½•èŠ‚ç‚¹æ˜¯å¦å·²ç»è®¿é—®
		visited = [False] * self.num_vertexs
		res = []
		def helper(v):	
			if visited[v]:
				return
			visited[v] = True
			res.append(v)
			for i in self.adjacencylists[v]:
				helper(i)
		helper(start)
		return res

	def bfs(self, start):
		visited = [False] * self.num_vertexs
		visited[start] = True
		res = [start,]
		queue = [start,]
		while queue:
			cur = queue.pop(0)
			for i in self.adjacencylists[cur]:
				if  not visited[i]:
					queue.append(i)
					visited[i] = True
					res.append(i)
		return res
    
if __name__ == '__main__':    
    # å®ä¾‹åŒ–
    graph = graph(num_vertexs, adjacencylists)

    t1 = graph.dfs(0)
    print(&quot;æ·±åº¦ä¼˜å…ˆæœç´¢ï¼š&quot;, t1)
    t2 = graph.bfs(0)
    print(&quot;å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼š&quot;, t2)
</code></pre>
<p>æ³¨æ„ï¼šè¿™é‡Œç”¨ index è¡¨ç¤ºèŠ‚ç‚¹åç§°ï¼Œæœ€åè¿˜éœ€è¦æ˜ å°„å‡ºç»“æœï¼ˆå‡è®¾0, 1, 2, 3&hellip;åˆ†åˆ«å¯¹åº”A, B, C, D&hellip;ä¸‹æ–‡ä¼šä½¿ç”¨å­—å…¸æ¥å®ç°é‚»æ¥è¡¨ï¼Œè¿™æ ·å°±ä¸éœ€è¦è¿™ä¸€æ­¥äº†ï¼‰ï¼š</p>
<pre><code class="language-python">vertexs = [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;]
t3 = list(map(lambda x: vertexs[x], t1))
print(&quot;æ·±åº¦ä¼˜å…ˆæœç´¢ï¼š&quot;, t3)
t4 = list(map(lambda x: vertexs[x], t2))
print(&quot;å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼š&quot;, t4)
</code></pre>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/graph4.png" alt="graph2" style="zoom:67%;" /></p>
<p>è¾“å‡ºï¼š</p>
<pre><code class="language-python">æ·±åº¦ä¼˜å…ˆæœç´¢ï¼š [0, 1, 4, 5, 6, 2, 3]
å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼š [0, 1, 2, 3, 4, 5, 6]
æ·±åº¦ä¼˜å…ˆæœç´¢ï¼š ['A', 'B', 'E', 'F', 'G', 'C', 'D']
å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼š ['A', 'B', 'C', 'D', 'E', 'F', 'G']
</code></pre>
<h2 id="å››æœ€çŸ­è·¯å¾„ç®—æ³•">å››ã€æœ€çŸ­è·¯å¾„ç®—æ³•<a class="anchor" href="#å››æœ€çŸ­è·¯å¾„ç®—æ³•">#</a></h2>
<h3 id="41-dijkstraç®—æ³•">4.1 Dijkstraç®—æ³•<a class="anchor" href="#41-dijkstraç®—æ³•">#</a></h3>
<p><strong>ç‰¹ç‚¹</strong></p>
<p>Dijkstra ç®—æ³•ä½¿ç”¨äº†å¹¿åº¦ä¼˜å…ˆæœç´¢è§£å†³èµ‹æƒæœ‰å‘å›¾æˆ–è€…æ— å‘å›¾çš„å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼Œç®—æ³•æœ€ç»ˆå¾—åˆ°ä¸€ä¸ªæœ€çŸ­è·¯å¾„æ ‘ã€‚è¯¥ç®—æ³•å¸¸ç”¨äºè·¯ç”±ç®—æ³•æˆ–è€…ä½œä¸ºå…¶ä»–å›¾ç®—æ³•çš„ä¸€ä¸ªå­æ¨¡å—ã€‚Dijkstra ç®—æ³•å±äº<strong>å•æºç®—æ³•</strong>ï¼Œå³åªèƒ½æ±‚å‡ºæŸç‚¹åˆ°å…¶å®ƒç‚¹æœ€çŸ­è·ç¦»ï¼Œå¹¶ä¸èƒ½å¾—å‡ºä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·ç¦»ï¼Œåªèƒ½ç”¨<strong>æƒå€¼ä¸ºæ­£æ•°</strong>çš„å›¾ï¼Œå­˜åœ¨è´Ÿæ•°æ—¶å¯èƒ½å›é™·å…¥æ­»å¾ªç¯ã€‚</p>
<p><strong>æµç¨‹</strong></p>
<p>Dijkstra ç®—æ³•é‡‡ç”¨çš„æ˜¯ä¸€ç§è´ªå¿ƒçš„ç­–ç•¥ï¼Œå£°æ˜ä¸€ä¸ªæ•°ç»„ distances æ¥ä¿å­˜æºç‚¹åˆ°å„ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·ç¦»å’Œä¸€ä¸ªä¿å­˜å·²ç»æ‰¾åˆ°äº†æœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹çš„é›†åˆï¼šnodesã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œå‡è®¾æ±‚Aç‚¹åˆ°å…¶ä»–ç‚¹çš„è·ç¦»ã€‚</p>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/graph5.png" alt="graph2" style="zoom:67%;" /></p>
<ol>
<li>
<p>åˆå§‹åŒ– distancesï¼ŒåŸç‚¹ s çš„è·¯å¾„æƒé‡è¢«èµ‹ä¸º 0 ï¼ˆdis[s] = 0ï¼‰ã€‚æŠŠåˆ°å…¶ä»–é¡¶ç‚¹çš„è·¯å¾„é•¿åº¦è®¾ä¸ºæ— ç©·å¤§ã€‚</p>
<pre><code class="language-python">distances = {'A': 0, 'B': inf, 'C': inf, 'D': inf, 'E': inf, 'F': inf, 'G': inf} 
</code></pre>
</li>
<li>
<p>åˆå§‹ nodesï¼Œç†è®ºä¸Šé›†åˆ nodes åªæœ‰é¡¶ç‚¹ sã€‚è¿™é‡Œåˆ›å»ºäº†å…¶ä»–èŠ‚ç‚¹æ˜¯æ–¹ä¾¿ä¹‹åçš„è¿›å †æ“ä½œï¼Œä¸ç”¨å†è€ƒè™‘èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ä¸¤ç§æƒ…å†µã€‚</p>
<pre><code class="language-python">nodes = [[0, 'A'], [inf, 'B'], [inf, 'C'], [inf, 'D'], [inf, 'E'], [inf, 'F'], [inf, 'G']]
</code></pre>
</li>
<li>
<p>ä» distances æ•°ç»„é€‰æ‹©æœ€å°å€¼ï¼Œåˆ™è¯¥å€¼å°±æ˜¯æºç‚¹ s åˆ°è¯¥å€¼å¯¹åº”çš„é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œå¹¶ä¸”æŠŠè¯¥ç‚¹åŠ å…¥åˆ° nodes ä¸­ã€‚</p>
<pre><code class="language-python">distances = {'A': 0, 'B': 4, 'C': 2, 'D': 3, 'E': inf, 'F': inf, 'G': inf} # åŠ å…¥äº†Açš„è¿‘é‚»Bï¼ŒCï¼ŒD
nodes = [[2, 'C'], [3, 'D'], [4, 'B'], [inf, 'G'], [inf, 'E'], [inf, 'F']] # Aè¢«æ¨å‡ºï¼Œæ›´æ–°Bï¼ŒCï¼ŒD
</code></pre>
</li>
<li>
<p>é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ° nodes ä¸º s ç©ºæˆ– nodes ä¸­çš„æœ€å°å€¼æ˜¯æ— ç©·å¤§ï¼ˆä¸å‰©ä¸‹çš„èŠ‚ç‚¹éƒ½ä¸è¿é€šï¼‰æ—¶ã€‚</p>
</li>
</ol>
<p><strong>ä»£ç </strong></p>
<pre><code class="language-python">import heapq

class Graph:
    
    def __init__(self):
        self.vertices = {}
        
    def add_vertex(self, name, edges):
        self.vertices[name] = edges
    
    def shortest_path(self, start, finish):
        distances = {} # è®°å½•å„ç‚¹åˆ°èµ·ç‚¹è·ç¦»
        previous = {}  # è®°å½•å…ˆå‰è·¯å¾„ï¼Œæ³¨æ„ï¼šå¯¹äºæ±‚æœ€å°è·¯å¾„æ—¶ï¼Œæ¯ä¸ªç‚¹çš„å…ˆå‰è·¯å¾„æ˜¯å”¯ä¸€çš„ã€‚
        nodes = [] # ä¼˜å…ˆé˜Ÿåˆ—

        for vertex in self.vertices:
            if vertex == start: # åŸç‚¹ s çš„è·¯å¾„æƒé‡è¢«èµ‹ä¸º 0 ï¼ˆdis[s] = 0ï¼‰ã€‚æŠŠåˆ°å…¶ä»–é¡¶ç‚¹çš„è·¯å¾„é•¿åº¦è®¾ä¸ºæ— ç©·å¤§ã€‚
                distances[vertex] = 0
                heapq.heappush(nodes, [0, vertex])
            else:
                distances[vertex] = float('inf')
                heapq.heappush(nodes, [float('inf'), vertex])
            previous[vertex] = None

        while nodes:
            smallest = heapq.heappop(nodes)[1] # popä¼˜å…ˆé˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
            if smallest == finish: # ä¿å­˜è·¯å¾„
                path = []
                cur = smallest
                while cur: # å¾ªç¯åˆ°èµ·ç‚¹ï¼Œå…¶å…ˆå‰èŠ‚ç‚¹ä¸ºNoneï¼Œç»“æŸ
                    path.append(cur)
                    cur = previous[cur]
                path.reverse()
            if distances[smallest] == float('inf'): # å‰©ä½™æ‰€æœ‰èŠ‚ç‚¹å·²ä¸ç›¸é‚»
                break      
            for neighbor in self.vertices[smallest]: # è·å–è¿‘é‚»èŠ‚ç‚¹
                alt = distances[smallest] + self.vertices[smallest][neighbor] 
                if alt &lt; distances[neighbor]: # å¾—åˆ°çš„è·¯å¾„æ¯”ä¹‹å‰çš„è¿‘ï¼Œåˆ™æ›´æ–°nodesï¼Œprevious
                    previous[neighbor] = smallest
                    distances[neighbor] = alt
                    for n in nodes:
                        if n[1] == neighbor:
                            n[0] = alt
                            break
                    heapq.heapify(nodes)
            #print(distances,nodes)
        return distances[finish], path
        
    def __str__(self):
        return str(self.vertices)

if __name__ == '__main__':
    # å®ä¾‹åŒ–ï¼Œè¿™ä¸ªç±»éœ€è¦ä¾æ¬¡ä¼ å…¥æ‰€æœ‰è¾¹ã€‚
    g = Graph()
    g.add_vertex('A', {'B': 4, 'C': 2, 'D': 3})
    g.add_vertex('B', {'A': 4, 'E': 2, 'F': 5})
    g.add_vertex('C', {'A': 2, 'G': 1})
    g.add_vertex('D', {'A': 3, 'G': 2})
    g.add_vertex('E', {'B': 2, 'F': 4})
    g.add_vertex('F', {'B': 5, 'E': 4, 'G': 3})
    g.add_vertex('G', {'C': 1, 'D': 2, 'F': 3})
    
    print(g.shortest_path('A', 'G'))
</code></pre>
<h3 id="42-floyd-warshallç®—æ³•">4.2 Floyd-Warshallç®—æ³•<a class="anchor" href="#42-floyd-warshallç®—æ³•">#</a></h3>
<p><strong>ç‰¹ç‚¹</strong></p>
<p><strong>Floyd-Warshallç®—æ³•</strong>ï¼ˆFloyd-Warshall algorithmï¼‰ï¼Œä¸­æ–‡äº¦ç§°<strong>å¼—æ´›ä¼Šå¾·ç®—æ³•</strong>ï¼Œæ˜¯è§£å†³ä»»æ„ä¸¤ç‚¹é—´çš„æœ€çŸ­è·¯å¾„çš„ä¸€ç§ç®—æ³•ï¼Œå¯ä»¥æ­£ç¡®å¤„ç†<strong>æœ‰å‘å›¾</strong>æˆ–<strong>è´Ÿæƒ</strong>ï¼ˆä½†ä¸å¯å­˜åœ¨è´Ÿæƒå›è·¯ï¼‰çš„æœ€çŸ­è·¯å¾„é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿè¢«ç”¨äºè®¡ç®—æœ‰å‘å›¾çš„ä¼ é€’é—­åŒ…ã€‚</p>
<p>Floyd ç®—æ³•æ˜¯ä¸€ä¸ªç»å…¸çš„<strong>åŠ¨æ€è§„åˆ’ç®—æ³•</strong>ã€‚</p>
<p>è®¾ $D_{i,j,k}$ ä¸ºä» $i$ åˆ° $j$ çš„åªä»¥ $(i, j)$ é›†åˆä¸­çš„èŠ‚ç‚¹ä¸ºä¸­é—´èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„çš„é•¿åº¦ã€‚</p>
<ol>
<li>è‹¥æœ€çŸ­è·¯å¾„ç»è¿‡ç‚¹kï¼Œåˆ™ $D_{i,j,k}=D_{i,k,k-1}+D_{k,j,k-1}$ï¼›</li>
<li>è‹¥æœ€çŸ­è·¯å¾„ä¸ç»è¿‡ç‚¹kï¼Œåˆ™ $D_{i,j,k}=D_{i,j,k-1}$</li>
</ol>
<p>å› æ­¤ï¼Œ$D_{i,j,k}=min(D_{i,j,k-1},D_{i,k,k-1}+D_{k,j,k-1})$ã€‚</p>
<p>åœ¨å®é™…ç®—æ³•ä¸­ï¼Œä¸ºäº†èŠ‚çº¦ç©ºé—´ï¼Œå¯ä»¥ç›´æ¥åœ¨åŸæ¥ç©ºé—´ä¸Šè¿›è¡Œè¿­ä»£ï¼Œè¿™æ ·ç©ºé—´å¯é™è‡³äºŒç»´ã€‚</p>
<p><strong>æµç¨‹</strong></p>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/1920px-Floyd-Warshall_example.svg.png" alt="graphh"></p>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/2019-12-30%20224429.png" alt="gg" style="zoom:150%;" /></p>
<p>Floyd-Warshallç®—æ³•çš„<a href="https://zh.wikipedia.org/wiki/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6">æ—¶é—´å¤æ‚åº¦</a>ä¸º $O(N^{3})$ï¼Œ<a href="https://zh.wikipedia.org/wiki/%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6">ç©ºé—´å¤æ‚åº¦</a>ä¸º $O(N^{2})$ã€‚</p>
<p><strong>ä»£ç </strong></p>
<pre><code class="language-python">def floyd(graph):
    length = len(graph)
    path = {}
    # å»ºç«‹åˆå§‹è·¯å¾„path
    for i in range(length):
        path[i] = {}
        for j in range(length):
            if i != j and graph[i][j] != float('inf'):
                path[i][j] = [i, j]
    # iä¸ºé€‰å–çš„ä¸­é—´èŠ‚ç‚¹
    for i in range(length):        
        # jä¸ºä¸­é—´èŠ‚ç‚¹içš„å‰èŠ‚ç‚¹
        for j in range(length):
            if i == j:
                continue
            # kä¸ºä¸­é—´èŠ‚ç‚¹içš„åèŠ‚ç‚¹
            for k in range(length):
                if k == i or k == j:
                    continue
                new_len = graph[j][i] + graph[i][k]
                if graph[j][k] &gt; new_len:
                    graph[j][k] = new_len
                    new_node = i
                    # åˆå¹¶è·¯å¾„
                    path[j][k] = path[j][i][:-1] + path[i][k]
    return graph, path

if __name__ == '__main__':
    ini = float('inf')
    graph_list = [  
                    [0, ini, -2, ini],
                    [4, 0, 3, ini],
                    [ini, ini, 0, 2],
                    [ini, -1, ini, 0]
                 ]
    new_graph, path = floyd(graph_list)
    print(new_graph, '\n\n\n', path)
</code></pre>
<h2 id="äº”ç”Ÿæˆæ ‘">äº”ã€ç”Ÿæˆæ ‘<a class="anchor" href="#äº”ç”Ÿæˆæ ‘">#</a></h2>
<p>å¯¹è¿é€š<strong>å›¾</strong>è¿›è¡Œéå†ï¼Œè¿‡ç¨‹ä¸­æ‰€ç»è¿‡çš„è¾¹å’Œé¡¶ç‚¹çš„ç»„åˆå¯çœ‹åšæ˜¯ä¸€æ£µæ™®é€šæ ‘ï¼Œé€šå¸¸ç§°ä¸ºç”Ÿæˆæ ‘ã€‚</p>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/2-1Z106101951H4.gif" alt="è¿é€šå›¾åŠå…¶å¯¹åº”çš„ç”Ÿæˆæ ‘"></p>
<p>a) æ˜¯ä¸€å¼ è¿é€šå›¾ï¼Œb) æ˜¯å…¶å¯¹åº”çš„ 2 ç§ç”Ÿæˆæ ‘ã€‚</p>
<p>è¿é€šå›¾ä¸­ï¼Œç”±äºä»»æ„ä¸¤é¡¶ç‚¹ä¹‹é—´å¯èƒ½å«æœ‰å¤šæ¡é€šè·¯ï¼Œéå†è¿é€šå›¾çš„æ–¹å¼æœ‰å¤šç§ï¼Œå¾€å¾€ä¸€å¼ è¿é€šå›¾å¯èƒ½æœ‰å¤šç§ä¸åŒçš„ç”Ÿæˆæ ‘ä¸ä¹‹å¯¹åº”ã€‚</p>
<p>è¿é€šå›¾ä¸­çš„ç”Ÿæˆæ ‘å¿…é¡»æ»¡è¶³ä»¥ä¸‹ 2 ä¸ªæ¡ä»¶ï¼š</p>
<ol>
<li>åŒ…å«è¿é€šå›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹ï¼›</li>
<li>ä»»æ„ä¸¤é¡¶ç‚¹ä¹‹é—´æœ‰ä¸”ä»…æœ‰ä¸€æ¡é€šè·¯ï¼›</li>
</ol>
<p>å› æ­¤ï¼Œè¿é€šå›¾çš„ç”Ÿæˆæ ‘å…·æœ‰è¿™æ ·çš„ç‰¹å¾ï¼Œå³ç”Ÿæˆæ ‘ä¸­<strong>è¾¹çš„æ•°é‡ = é¡¶ç‚¹æ•° - 1</strong>ã€‚</p>
<h3 id="51-primç®—æ³•">5.1 Primç®—æ³•<a class="anchor" href="#51-primç®—æ³•">#</a></h3>
<p><strong>æ™®é‡Œå§†ç®—æ³•</strong>ï¼ˆPrim&rsquo;s algorithmï¼‰ï¼Œ<strong>å›¾è®º</strong>ä¸­çš„ä¸€ç§ç®—æ³•ï¼Œå¯åœ¨åŠ æƒè¿é€šå›¾é‡Œæœç´¢<strong>æœ€å°ç”Ÿæˆæ ‘</strong>ã€‚æ„å³ç”±æ­¤ç®—æ³•æœç´¢åˆ°çš„<strong>è¾¹</strong>å­é›†æ‰€æ„æˆçš„<strong>æ ‘</strong>ä¸­ï¼Œä¸ä½†åŒ…æ‹¬äº†è¿é€šå›¾é‡Œçš„æ‰€æœ‰<strong>é¡¶ç‚¹</strong>ï¼Œä¸”å…¶æ‰€æœ‰è¾¹çš„æƒå€¼ä¹‹å’Œäº¦ä¸ºæœ€å°ã€‚</p>
<p><strong>æµç¨‹</strong></p>
<ol>
<li>è¾“å…¥ï¼šä¸€ä¸ªåŠ æƒè¿é€šå›¾ï¼Œå…¶ä¸­é¡¶ç‚¹é›†åˆä¸º Vï¼Œè¾¹é›†åˆä¸º E</li>
<li>åˆå§‹åŒ–ï¼šVnew = {x}ï¼Œå…¶ä¸­ x ä¸ºé›†åˆ V ä¸­çš„ä»»ä¸€èŠ‚ç‚¹(èµ·å§‹ç‚¹)ï¼ŒEnew = {} ä¸ºç©º</li>
<li>åœ¨é›†åˆ E ä¸­é€‰å–æƒå€¼æœ€å°çš„è¾¹ &lt;u, v&gt;ï¼Œå…¶ä¸­ u ä¸ºé›†åˆ Vnew ä¸­çš„å…ƒç´ ï¼Œè€Œ v ä¸åœ¨ Vnew é›†åˆå½“ä¸­ï¼Œå¹¶ä¸” vâˆˆV (å¦‚æœå­˜åœ¨æœ‰å¤šæ¡æ»¡è¶³å‰è¿°æ¡ä»¶å³å…·æœ‰ç›¸åŒæƒå€¼çš„è¾¹ï¼Œåˆ™å¯ä»»æ„é€‰å–å…¶ä¸­ä¹‹ä¸€ï¼‰</li>
<li>å°† v åŠ å…¥é›†åˆ Vnew ä¸­ï¼Œå°† &lt;u, v&gt; è¾¹åŠ å…¥é›†åˆ Enew ä¸­</li>
<li>é‡å¤æ­¥éª¤ 3ã€4 ç›´åˆ° Vnew = V</li>
</ol>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/graph6.png" alt="g" style="zoom:67%;" /></p>
<p>æ—¶é—´å¤æ‚åº¦ï¼š$O(V^2)$ã€‚</p>
<p><strong>ä»£ç </strong></p>
<pre><code class="language-python">def prim(graph, root):
    assert type(graph)==dict

    nodes = list(graph)
    nodes.remove(root)
    
    visited = [root]
    path = []
    next = None

    while nodes:
        distance = float('inf') 
        for s in visited:
            for d in graph[s]:
                if d in visited or s == d:
                    continue
                if graph[s][d] &lt; distance:
                    distance = graph[s][d]
                    pre = s
                    next = d
        path.append((pre, next))
        visited.append(next)
        nodes.remove(next)

    return path

if __name__ == '__main__':
    ini = float('inf')
    graph_dict = {  'A': {'A': ini, 'B': 4,   'C': 2,   'D': 3,   'E': ini, 'F': ini, 'G': ini},
                    'B': {'A': 4,   'B': ini, 'C': ini, 'D': ini, 'E': 2,   'F': 5,   'G': ini},
                    'C': {'A': 2,   'B': ini, 'C': ini, 'D': ini, 'E': ini, 'F': ini, 'G': 1  },
                    'D': {'A': 3,   'B': ini, 'C': ini, 'D': ini, 'E': ini, 'F': ini, 'G': 2  },
                    'E': {'A': ini, 'B': 2,   'C': ini, 'D': ini, 'E': ini, 'F': 4,   'G': ini},
                    'F': {'A': ini, 'B': 5,   'C': ini, 'D': ini, 'E': 4,   'F': ini, 'G': 3  },
                    'G': {'A': ini, 'B': ini, 'C': 1,   'D': 2,   'E': ini, 'F': 3,   'G': ini},
                 }
    path = prim(graph_dict, 'A')
    print(&quot;path:&quot;, path)
</code></pre>
<p>å¯ä»¥çœ‹åˆ°è¾“å‡ºé¡ºåºå’Œä¸Šå›¾æ˜¯ä¸€è‡´çš„ï¼š</p>
<pre><code class="language-python">path: [('A', 'C'), ('C', 'G'), ('G', 'D'), ('G', 'F'), ('A', 'B'), ('B', 'E')]
</code></pre>
<h3 id="52-kruskalç®—æ³•">5.2 Kruskalç®—æ³•<a class="anchor" href="#52-kruskalç®—æ³•">#</a></h3>
<p><strong>Kruskalç®—æ³•</strong>æ˜¯ä¸€ç§ç”¨æ¥æŸ¥æ‰¾æœ€å°ç”Ÿæˆæ ‘çš„ç®—æ³•ï¼Œç”±Joseph Kruskalåœ¨1956å¹´å‘è¡¨ã€‚åŸºäº<a href="https://lil-q.github.io/2020/01/02/%E6%9F%A5%E5%B9%B6%E9%9B%86-union-find-algorithm/">å¹¶æŸ¥é›†</a>çš„æ•°æ®ç»“æ„ã€‚</p>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/383px-MST_kruskal_en.gif" alt="kru" style="zoom:67%;" /></p>
<p><strong>æµç¨‹</strong></p>
<ol>
<li>æ–°å»ºå›¾ $G$ï¼Œ$G$ ä¸­æ‹¥æœ‰åŸå›¾ä¸­ç›¸åŒçš„èŠ‚ç‚¹ï¼Œä½†æ²¡æœ‰è¾¹</li>
<li>å°†åŸå›¾ä¸­æ‰€æœ‰çš„è¾¹æŒ‰æƒå€¼ä»å°åˆ°å¤§æ’åº</li>
<li>ä»æƒå€¼æœ€å°çš„è¾¹å¼€å§‹ï¼Œå¦‚æœè¿™æ¡è¾¹è¿æ¥çš„ä¸¤ä¸ªèŠ‚ç‚¹äºå›¾ $G$ ä¸­ä¸åœ¨åŒä¸€ä¸ªè¿é€šåˆ†é‡ä¸­ï¼Œåˆ™æ·»åŠ è¿™æ¡è¾¹åˆ°å›¾ $G$ ä¸­</li>
<li>é‡å¤3ï¼Œç›´è‡³å›¾ $G$ ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åœ¨åŒä¸€ä¸ªè¿é€šåˆ†é‡ä¸­</li>
</ol>
<p><img src="https://qttblog.oss-cn-hangzhou.aliyuncs.com/june/graph7.png" alt="kur" style="zoom:67%;" /></p>
<p><strong>ä»£ç </strong></p>
<pre><code class="language-python">def find(id, p):
	while p != id[p]:
		id[p] = id[id[p]]
		p = id[p]
	return p

def union(id, size, p, q):
	root_p = find(id, p)
	root_q = find(id, q)
	if root_p != root_q:
		if size[p] &lt; size[q]:
			id[root_p] = root_q
			size[q] += size[p]
		else:
			id[root_q] = root_p
			size[p] += size[q]
		

def kruskal(graph):
    assert type(graph)==dict

    edges = [(graph[u][v], u, v) for u in graph for v in graph[u] if graph[u][v] != float('inf')]
    path = []
    id, size = {u:u for u in graph}, {u:0 for u in graph}
    for _, u, v in sorted(edges):
        if find(id, u) != find(id, v):
            path.append((u, v))
            union(id, size, u, v)
    return path
</code></pre>
<p>è¾“å…¥ä¸ç†è®ºä¸€è‡´ï¼š</p>
<pre><code class="language-python">path:  [('C', 'G'), ('A', 'C'), ('B', 'E'), ('D', 'G'), ('F', 'G'), ('A', 'B')]
</code></pre>
<h2 id="å‚è€ƒ">å‚è€ƒ<a class="anchor" href="#å‚è€ƒ">#</a></h2>
<ol>
<li><a href="https://github.com/lil-q/data-structures-python/tree/master/Graph"><strong>å®Œæ•´æµ‹è¯•ä»£ç åœ°å€</strong></a></li>
<li><a href="https://www.cnblogs.com/skywang12345/p/3691463.html">å›¾çš„ç†è®ºåŸºç¡€</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E5%9B%BE_(%E6%95%B0%E5%AD%A6)">wiki-graph</a></li>
<li><a href="https://oi-wiki.org/graph/">oi-wiki</a></li>
<li><a href="http://data.biancheng.net/view/202.html">ç”Ÿæˆæ ‘ï¼ˆç”Ÿæˆæ£®æ—ï¼‰è¯¦è§£</a></li>
<li><a href="https://www.khanacademy.org/computing/computer-science/algorithms/graph-representation/a/representing-graphs">Representing graphs</a></li>
<li><a href="https://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm">wiki-Floydâ€“Warshall</a></li>
<li><a href="https://leetcode-cn.com/problems/course-schedule/solution/course-schedule-tuo-bu-pai-xu-bfsdfsliang-chong-fa/">ä¸€ä¸ªå°ç»ƒä¹ ğŸ˜€</a></li>
</ol>


              
                  

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>
              
          </article>
          

<ul class="tags__list">
    
    <li class="tag__item">
        <a class="tag__link" href="https://lil-q.github.io/tags/data_structure/">data_structure</a>
    </li></ul>

 <div class="pagination">
  
    <a class="pagination__item" href="https://lil-q.github.io/blog/%E6%A0%91-tree/">
        <span class="pagination__label">Previous Post</span>
        <span class="pagination__title">æ ‘</span>
    </a>
  

  
    <a class="pagination__item" href="https://lil-q.github.io/blog/%E6%9F%A5%E5%B9%B6%E9%9B%86-union-find-algorithm/">
      <span class="pagination__label">Next Post</span>
      <span class="pagination__title" >æŸ¥å¹¶é›†</a>
    </a>
  
</div>

          
          <footer class="post__footer">
            


<div class="social-icons">
  
     
    
  
     
    
      <a class="social-icons__link" title="GitHub"
         href="https://github.com/lil-q"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://lil-q.github.io/svg/github.svg')"></div>
      </a>
    
  
     
    
      <a class="social-icons__link" title="Email"
         href="mailto:qitiantianc137@outlook.com"
         target="_blank" rel="noopener">
        <div class="social-icons__icon" style="background-image: url('https://lil-q.github.io/svg/email.svg')"></div>
      </a>
    
     
</div>

            <p>2020 Â© lil-q</p>
          </footer>
          </div>
      </div>
      
      <div class="toc-container">
          
        <nav id="TableOfContents">
  <ul>
    <li><a href="#ä¸€å®šä¹‰">ä¸€ã€å®šä¹‰</a>
      <ul>
        <li><a href="#11-åŸºæœ¬æ¦‚å¿µ">1.1 åŸºæœ¬æ¦‚å¿µ</a></li>
        <li><a href="#12-ç»“ç‚¹çš„åº¦æ•°">1.2 ç»“ç‚¹çš„åº¦æ•°</a></li>
      </ul>
    </li>
    <li><a href="#äºŒå›¾çš„å­˜å‚¨">äºŒã€å›¾çš„å­˜å‚¨</a>
      <ul>
        <li><a href="#21-ç›´æ¥å­˜è¾¹">2.1 ç›´æ¥å­˜è¾¹</a></li>
        <li><a href="#22-é‚»æ¥çŸ©é˜µ">2.2 é‚»æ¥çŸ©é˜µ</a></li>
        <li><a href="#23-é‚»æ¥è¡¨">2.3 é‚»æ¥è¡¨</a></li>
      </ul>
    </li>
    <li><a href="#ä¸‰å›¾çš„éå†">ä¸‰ã€å›¾çš„éå†</a>
      <ul>
        <li><a href="#31-æ·±åº¦ä¼˜å…ˆæœç´¢">3.1 æ·±åº¦ä¼˜å…ˆæœç´¢</a></li>
        <li><a href="#32-å¹¿åº¦ä¼˜å…ˆæœç´¢">3.2 å¹¿åº¦ä¼˜å…ˆæœç´¢</a></li>
      </ul>
    </li>
    <li><a href="#å››æœ€çŸ­è·¯å¾„ç®—æ³•">å››ã€æœ€çŸ­è·¯å¾„ç®—æ³•</a>
      <ul>
        <li><a href="#41-dijkstraç®—æ³•">4.1 Dijkstraç®—æ³•</a></li>
        <li><a href="#42-floyd-warshallç®—æ³•">4.2 Floyd-Warshallç®—æ³•</a></li>
      </ul>
    </li>
    <li><a href="#äº”ç”Ÿæˆæ ‘">äº”ã€ç”Ÿæˆæ ‘</a>
      <ul>
        <li><a href="#51-primç®—æ³•">5.1 Primç®—æ³•</a></li>
        <li><a href="#52-kruskalç®—æ³•">5.2 Kruskalç®—æ³•</a></li>
      </ul>
    </li>
    <li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
  </ul>
</nav>
      </div>
      
    </div>
    

  </main>

   

  
  <script src="/js/index.min.49e4d8a384357d9b445b87371863419937ede9fa77737522ffb633073aebfa44.js" integrity="sha256-SeTYo4Q1fZtEW4c3GGNBmTft6fp3c3Ui/7YzBzrr&#43;kQ=" crossorigin="anonymous"></script>
  
  
  <script src="https://unpkg.com/prismjs@1.20.0/components/prism-core.min.js"></script>

  
  <script src="https://unpkg.com/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js"
    data-autoloader-path="https://unpkg.com/prismjs@1.20.0/components/"></script>

  
    <script src="/js/table-of-contents.js"></script>
  


</body>

</html>
